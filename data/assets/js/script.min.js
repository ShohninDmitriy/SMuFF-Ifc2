document.addEventListener("DOMContentLoaded",(function(){[].slice.call(document.querySelectorAll("[data-bss-tooltip]")).map((function(e){return new bootstrap.Tooltip(e)}))}),!1);var mcuType="",ignoreFeeder=!1,ignoreScroll=!1,autoScroll=!0,toggleStatus=!1;function setDeviceName(e){$("#device-name").text(e)}function setVersion(e){$("#version").text("V: "+e)}function setVariant(e){$("#variant").text(e),"ESP32"!=(mcuType=e)?$("#input-esp32").addClass("d-none"):$("#input-esp32").removeClass("d-none")}function setIPAddress(e){$("#ip-address").html(e)}function setFeederSignal(e){ignoreFeeder=!0,$("#feeder-sig").prop("checked",1==e),ignoreFeeder=!1}function scrollDebug(){autoScroll&&(ignoreScroll=!0,$("#debug").scrollTop($("#debug")[0].scrollHeight),ignoreScroll=!1)}function setDebug(e){$("#debug").val(e),scrollDebug()}function addDebug(e){$("#debug").val($("#debug").val()+e),scrollDebug()}$(document).ready((function(){setTimeout((function(){$.get("status",(function(e){setDeviceName(e.Device),setVersion(e.Version),setVariant(e.Variant),setIPAddress(e.IPAddress),setFeederSignal(e.Feeder)}))}),150),setInterval((function(){toggleStatus?$.get("fstatus",(function(e){setFeederSignal(e)})):$.get("debug",(function(e){addDebug(e)})),toggleStatus=!toggleStatus}),500),$("#to-smuff").on("keypress",(function(e){13==e.which&&(event.preventDefault(),$("#btn-to-smuff").trigger("click"))})),$("#to-bt").on("keypress",(function(e){13==e.which&&(event.preventDefault(),$("#btn-to-bt").trigger("click"))})),$("#to-due").on("keypress",(function(e){13==e.which&&(event.preventDefault(),$("#btn-to-due").trigger("click"))})),$("#to-duet").on("keypress",(function(e){13==e.which&&(event.preventDefault(),$("#btn-to-duet").trigger("click"))})),$("#btn-to-smuff").on("click",(function(){var e=$("#to-smuff").val();$.get("tosmuff?v="+escape(e),(function(e){console.log(e)})),$("#to-smuff").val("")})),$("#btn-to-duet").on("click",(function(){var e=$("#to-duet").val();$.get("toduet?v="+escape(e),(function(e){console.log(e)})),$("#to-duet").val("")})),$("#btn-to-bt").on("click",(function(){var e=$("#to-bt").val();$.get("tobt?v="+escape(e),(function(e){console.log(e)})),$("#to-bt").val("")})),$("#btn-to-due").on("click",(function(){var e=$("#to-due").val();$.get("todue?v="+escape(e),(function(e){console.log(e)})),$("#to-due").val("")})),$("#btn-clear-debug").on("click",(function(){$.get("clear",(function(e){console.log(e)})),$("#debug").val("")})),$("#device-name").on("click",(function(){$.get("locate",(function(e){console.log(e)}))})),$("#feeder-sig").on("change",(function(){ignoreFeeder||(this.checked?$.get("feedersig?v=1",(function(e){console.log(e)})):$.get("feedersig?v=0",(function(e){console.log(e)})))})),$("#debug").on("scroll",(function(){ignoreScroll||(autoScroll=$(this)[0].scrollHeight-($(this).scrollTop()+$(this).height())<=20)}))}));